<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ServicePro Dashboard - Design 4: Mobile-First Timeline</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'sans-serif'],
          },
        },
      },
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }

    /* Hide scrollbar for stat bubbles */
    .stat-scroll::-webkit-scrollbar { display: none; }
    .stat-scroll { -ms-overflow-style: none; scrollbar-width: none; }

    /* Timeline line */
    .timeline-line {
      position: absolute;
      left: 23px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(to bottom, #e2e8f0, #cbd5e1);
    }

    /* Timeline dot */
    .timeline-dot {
      position: absolute;
      left: 18px;
      top: 6px;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      border: 2px solid white;
      box-shadow: 0 0 0 2px rgba(0,0,0,0.05);
      z-index: 2;
    }

    /* Connector line from dot to card */
    .timeline-connector {
      position: absolute;
      left: 30px;
      top: 11px;
      width: 16px;
      height: 2px;
      z-index: 1;
    }

    /* Bottom sheet */
    .bottom-sheet-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.4);
      z-index: 50;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .bottom-sheet-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    .bottom-sheet {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      border-radius: 20px 20px 0 0;
      z-index: 51;
      transform: translateY(100%);
      transition: transform 0.35s cubic-bezier(0.32, 0.72, 0, 1);
      max-height: 85vh;
      overflow-y: auto;
    }
    .bottom-sheet.active {
      transform: translateY(0);
    }

    /* Drag handle */
    .drag-handle {
      width: 36px;
      height: 5px;
      background: #d1d5db;
      border-radius: 3px;
      margin: 8px auto 0;
    }

    /* Pulse animation for live indicator */
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }
    .pulse-dot { animation: pulse-dot 2s ease-in-out infinite; }

    /* Smooth scroll behavior */
    html { scroll-behavior: smooth; }

    /* Desktop side panel */
    @media (min-width: 1024px) {
      .desktop-side-panel {
        position: sticky;
        top: 120px;
      }
    }

    /* Mini bar chart bars */
    .chart-bar {
      transition: height 0.5s ease;
    }
  </style>
</head>
<body class="bg-white text-slate-900 antialiased">

  <!-- ===== STICKY TOP BAR ===== -->
  <header class="sticky top-0 z-40 bg-white/80 backdrop-blur-xl border-b border-slate-100">
    <!-- Top Row: Company + Date -->
    <div class="px-4 pt-3 pb-2 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <div>
          <h1 class="text-lg font-bold text-slate-900 leading-tight">ServicePro</h1>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <span class="text-sm text-slate-500 font-medium">Mar 14, 2025</span>
        <div class="flex items-center gap-1">
          <span class="w-2 h-2 bg-green-500 rounded-full pulse-dot"></span>
          <span class="text-xs text-green-600 font-medium">Live</span>
        </div>
        <!-- Bell icon -->
        <button class="relative p-1">
          <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
          <span class="absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center">3</span>
        </button>
      </div>
    </div>

    <!-- Stat Bubbles Row -->
    <div class="stat-scroll overflow-x-auto px-4 pb-3 flex gap-2">
      <div class="flex-shrink-0 bg-blue-50 border border-blue-100 rounded-full px-3.5 py-1.5 flex items-center gap-2">
        <span class="text-blue-600 font-bold text-sm">30</span>
        <span class="text-blue-500 text-xs font-medium">Jobs</span>
        <span class="text-blue-400 text-xs">$26K</span>
      </div>
      <div class="flex-shrink-0 bg-emerald-50 border border-emerald-100 rounded-full px-3.5 py-1.5 flex items-center gap-2">
        <span class="text-emerald-600 font-bold text-sm">5</span>
        <span class="text-emerald-500 text-xs font-medium">Today</span>
      </div>
      <div class="flex-shrink-0 bg-purple-50 border border-purple-100 rounded-full px-3.5 py-1.5 flex items-center gap-2">
        <span class="text-purple-600 font-bold text-sm">$964</span>
        <span class="text-purple-500 text-xs font-medium">Avg</span>
      </div>
      <div class="flex-shrink-0 bg-amber-50 border border-amber-100 rounded-full px-3.5 py-1.5 flex items-center gap-2">
        <span class="text-amber-600 font-bold text-sm">$26K</span>
        <span class="text-amber-500 text-xs font-medium">Revenue</span>
      </div>
    </div>
  </header>

  <!-- ===== MAIN LAYOUT ===== -->
  <div class="lg:max-w-6xl lg:mx-auto lg:grid lg:grid-cols-[1fr_320px] lg:gap-6 lg:px-6">

    <!-- ===== TIMELINE FEED ===== -->
    <main class="px-4 pt-4 pb-8">
      <!-- Section Header -->
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-base font-semibold text-slate-700">Today's Activity</h2>
        <button class="text-xs text-blue-600 font-medium hover:text-blue-700">Filter</button>
      </div>

      <!-- Timeline Container -->
      <div class="relative">
        <!-- The vertical timeline line -->
        <div class="timeline-line"></div>

        <!-- ===== EVENT: 10:30 AM - Job Booked ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-green-500"></div>
          <div class="timeline-connector bg-green-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">10:30 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-green-100 text-green-700 uppercase tracking-wide">Job Booked</span>
            </div>
            <div class="flex items-start justify-between">
              <div>
                <p class="font-semibold text-sm text-slate-900">Sarah Mitchell</p>
                <p class="text-xs text-slate-500 mt-0.5">Deep Clean Service</p>
                <div class="flex items-center gap-3 mt-2">
                  <span class="text-xs text-slate-400">
                    <svg class="w-3 h-3 inline mr-0.5 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                    Mar 15
                  </span>
                  <span class="text-xs text-slate-400">
                    <svg class="w-3 h-3 inline mr-0.5 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                    Daniela
                  </span>
                </div>
              </div>
              <div class="text-right">
                <p class="font-bold text-sm text-green-600">$450</p>
              </div>
            </div>
            <button onclick="openSheet('job', {name:'Sarah Mitchell', phone:'(555) 234-8901', email:'sarah.mitchell@email.com', service:'Deep Clean Service', date:'Mar 15, 2025', amount:'$450', tech:'Daniela', status:'Scheduled'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Job
            </button>
          </div>
        </div>

        <!-- ===== EVENT: 10:15 AM - New Lead ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-blue-500"></div>
          <div class="timeline-connector bg-blue-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">10:15 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-100 text-blue-700 uppercase tracking-wide">New Lead</span>
            </div>
            <div>
              <p class="font-semibold text-sm text-slate-900">James Rodriguez</p>
              <p class="text-xs text-slate-500 mt-0.5">Interested in Pool Cleaning</p>
              <div class="flex items-center gap-2 mt-2">
                <span class="inline-flex items-center text-[10px] font-medium text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">
                  <svg class="w-3 h-3 mr-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                  Google Ads
                </span>
              </div>
            </div>
            <button onclick="openSheet('lead', {name:'James Rodriguez', phone:'(555) 876-5432', email:'james.rodriguez@email.com', interest:'Pool Cleaning', source:'Google Ads', stage:'New Lead', notes:'Interested in weekly pool cleaning for residential property.'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Lead
            </button>
          </div>
        </div>

        <!-- ===== EVENT: 9:45 AM - Quote Sent ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-purple-500"></div>
          <div class="timeline-connector bg-purple-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">9:45 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-purple-100 text-purple-700 uppercase tracking-wide">Quote Sent</span>
            </div>
            <div class="flex items-start justify-between">
              <div>
                <p class="font-semibold text-sm text-slate-900">Lisa Chen</p>
                <p class="text-xs text-slate-500 mt-0.5">Moving Quote</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="inline-flex items-center text-[10px] font-medium text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full">
                    <svg class="w-3 h-3 mr-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    Awaiting Response
                  </span>
                </div>
              </div>
              <div class="text-right">
                <p class="font-bold text-sm text-purple-600">$2,800</p>
              </div>
            </div>
            <button onclick="openSheet('quote', {name:'Lisa Chen', phone:'(555) 345-6789', email:'lisa.chen@email.com', service:'Moving Quote', amount:'$2,800', status:'Awaiting Response', notes:'Full home move, 3-bedroom to new location across town.'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Quote
            </button>
          </div>
        </div>

        <!-- ===== EVENT: 9:30 AM - Job Completed ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-emerald-500"></div>
          <div class="timeline-connector bg-emerald-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">9:30 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-100 text-emerald-700 uppercase tracking-wide">Job Completed</span>
            </div>
            <div class="flex items-start justify-between">
              <div>
                <p class="font-semibold text-sm text-slate-900">Robert Wilson</p>
                <p class="text-xs text-slate-500 mt-0.5">Office Cleaning</p>
                <div class="flex items-center gap-3 mt-2">
                  <span class="text-xs text-slate-400">
                    <svg class="w-3 h-3 inline mr-0.5 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                    Monica
                  </span>
                  <span class="inline-flex items-center text-[10px] font-medium text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full">
                    <svg class="w-3 h-3 mr-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                    Completed
                  </span>
                </div>
              </div>
              <div class="text-right">
                <p class="font-bold text-sm text-emerald-600">$1,200</p>
              </div>
            </div>
            <button onclick="openSheet('job', {name:'Robert Wilson', phone:'(555) 456-7890', email:'r.wilson@business.com', service:'Office Cleaning', date:'Mar 14, 2025', amount:'$1,200', tech:'Monica', status:'Completed'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Job
            </button>
          </div>
        </div>

        <!-- ===== EVENT: 9:00 AM - Lead Updated ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-amber-500"></div>
          <div class="timeline-connector bg-amber-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">9:00 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-amber-100 text-amber-700 uppercase tracking-wide">Lead Updated</span>
            </div>
            <div>
              <p class="font-semibold text-sm text-slate-900">Maria Garcia</p>
              <p class="text-xs text-slate-500 mt-0.5">Pool Maintenance</p>
              <div class="flex items-center gap-2 mt-2">
                <span class="text-xs text-slate-400 line-through">Contacted</span>
                <svg class="w-3 h-3 text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" /></svg>
                <span class="text-xs font-medium text-amber-600">Qualified</span>
              </div>
            </div>
            <button onclick="openSheet('lead', {name:'Maria Garcia', phone:'(555) 567-8901', email:'maria.garcia@email.com', interest:'Pool Maintenance', source:'Referral', stage:'Qualified', notes:'Moved from Contacted to Qualified. Interested in monthly pool service.'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Lead
            </button>
          </div>
        </div>

        <!-- ===== EVENT: 8:45 AM - Cancellation ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-red-500"></div>
          <div class="timeline-connector bg-red-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">8:45 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-red-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-red-100 text-red-700 uppercase tracking-wide">Cancellation</span>
            </div>
            <div>
              <p class="font-semibold text-sm text-slate-900">Tom Baker</p>
              <p class="text-xs text-slate-500 mt-0.5">Carpet Cleaning</p>
              <div class="flex items-center gap-2 mt-2">
                <span class="inline-flex items-center text-[10px] font-medium text-red-600 bg-red-50 px-2 py-0.5 rounded-full">
                  <svg class="w-3 h-3 mr-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                  Schedule conflict
                </span>
              </div>
            </div>
            <button onclick="openSheet('job', {name:'Tom Baker', phone:'(555) 678-9012', email:'tom.baker@email.com', service:'Carpet Cleaning', date:'Mar 16, 2025', amount:'$320', tech:'Unassigned', status:'Cancelled - Schedule conflict'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Details
            </button>
          </div>
        </div>

        <!-- ===== EVENT: 8:30 AM - Payment Received ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-green-500"></div>
          <div class="timeline-connector bg-green-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">8:30 AM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-green-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-green-100 text-green-700 uppercase tracking-wide">Payment Received</span>
            </div>
            <div class="flex items-start justify-between">
              <div>
                <p class="font-semibold text-sm text-slate-900">Amy Johnson</p>
                <p class="text-xs text-slate-500 mt-0.5">Invoice #1042</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="inline-flex items-center text-[10px] font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full">
                    <svg class="w-3 h-3 mr-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                    Full Payment
                  </span>
                </div>
              </div>
              <div class="text-right">
                <p class="font-bold text-sm text-green-600">$875</p>
                <p class="text-[10px] text-green-500 font-medium">Paid</p>
              </div>
            </div>
            <button onclick="openSheet('invoice', {name:'Amy Johnson', phone:'(555) 789-0123', email:'amy.johnson@email.com', invoice:'#1042', amount:'$875', status:'Paid in Full', method:'Credit Card', notes:'Payment for window cleaning service completed on Mar 12.'})" class="mt-3 w-full text-center text-xs font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg py-2 transition-colors">
              View Invoice
            </button>
          </div>
        </div>

        <!-- ===== YESTERDAY DIVIDER ===== -->
        <div class="relative pl-14 pb-6 pt-2">
          <div class="absolute left-[15px] top-4 w-[18px] h-[18px] bg-slate-200 rounded-full flex items-center justify-center z-2">
            <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
          </div>
          <div class="text-sm font-semibold text-slate-400 tracking-wide">Yesterday</div>
        </div>

        <!-- ===== EVENT: Yesterday 4:30 PM - Job Booked ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-green-500"></div>
          <div class="timeline-connector bg-green-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">4:30 PM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-green-100 text-green-700 uppercase tracking-wide">Job Booked</span>
            </div>
            <div class="flex items-start justify-between">
              <div>
                <p class="font-semibold text-sm text-slate-900">David Kim</p>
                <p class="text-xs text-slate-500 mt-0.5">HVAC Maintenance</p>
                <div class="flex items-center gap-3 mt-2">
                  <span class="text-xs text-slate-400">
                    <svg class="w-3 h-3 inline mr-0.5 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                    Mar 18
                  </span>
                  <span class="text-xs text-slate-400">
                    <svg class="w-3 h-3 inline mr-0.5 -mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                    Raquel
                  </span>
                </div>
              </div>
              <div class="text-right">
                <p class="font-bold text-sm text-green-600">$650</p>
              </div>
            </div>
          </div>
        </div>

        <!-- ===== EVENT: Yesterday 3:00 PM - Quote Approved ===== -->
        <div class="relative pl-14 pb-6">
          <div class="timeline-dot bg-emerald-500"></div>
          <div class="timeline-connector bg-emerald-300"></div>
          <div class="text-xs text-slate-400 font-medium mb-1.5">3:00 PM</div>
          <div class="bg-slate-50 rounded-xl p-3.5 border border-slate-100 shadow-sm">
            <div class="flex items-center gap-2 mb-2">
              <span class="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold bg-emerald-100 text-emerald-700 uppercase tracking-wide">Quote Approved</span>
            </div>
            <div class="flex items-start justify-between">
              <div>
                <p class="font-semibold text-sm text-slate-900">Jennifer Lee</p>
                <p class="text-xs text-slate-500 mt-0.5">Home Cleaning Package</p>
                <div class="flex items-center gap-2 mt-2">
                  <span class="inline-flex items-center text-[10px] font-medium text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full">
                    <svg class="w-3 h-3 mr-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                    Approved!
                  </span>
                </div>
              </div>
              <div class="text-right">
                <p class="font-bold text-sm text-emerald-600">$340</p>
              </div>
            </div>
          </div>
        </div>

        <!-- End of Timeline Indicator -->
        <div class="relative pl-14 pb-4">
          <div class="absolute left-[19px] top-1 w-[10px] h-[10px] bg-slate-200 rounded-full z-2"></div>
          <p class="text-xs text-slate-300 font-medium">End of timeline</p>
        </div>

      </div><!-- /Timeline Container -->

      <!-- ===== BOTTOM SECTIONS ===== -->
      <div class="mt-8 space-y-5 lg:hidden">

        <!-- Sales Leaders This Month -->
        <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
          <h3 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2">
            <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
            Sales Leaders This Month
          </h3>
          <div class="space-y-3">
            <!-- Monica -->
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-blue-600">MC</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-medium text-slate-700 truncate">Monica Copo</span>
                  <span class="text-xs text-slate-500">7 jobs</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                  <div class="bg-blue-500 h-1.5 rounded-full" style="width: 100%"></div>
                </div>
                <p class="text-xs text-slate-400 mt-0.5">$8,096</p>
              </div>
            </div>
            <!-- Daniela -->
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-xs font-bold text-purple-600">DA</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-medium text-slate-700 truncate">Daniela</span>
                  <span class="text-xs text-slate-500">8 jobs</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                  <div class="bg-purple-500 h-1.5 rounded-full" style="width: 46%"></div>
                </div>
                <p class="text-xs text-slate-400 mt-0.5">$3,692</p>
              </div>
            </div>
            <!-- Raquel -->
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-xs font-bold text-emerald-600">RA</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-medium text-slate-700 truncate">Raquel</span>
                  <span class="text-xs text-slate-500">3 jobs</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                  <div class="bg-emerald-500 h-1.5 rounded-full" style="width: 39%"></div>
                </div>
                <p class="text-xs text-slate-400 mt-0.5">$3,164</p>
              </div>
            </div>
          </div>
          <button class="mt-3 text-xs text-blue-600 font-medium hover:text-blue-700">See their jobs &rarr;</button>
        </div>

        <!-- Top Referral Sources -->
        <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
          <h3 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2">
            <svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
            Top Referral Sources
          </h3>
          <div class="space-y-2.5">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                <span class="text-sm text-slate-700">Equate Media</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">14 leads</span>
                <span class="text-xs font-medium text-slate-700 ml-2">$11,241</span>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-purple-500"></div>
                <span class="text-sm text-slate-700">Website</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">1 lead</span>
                <span class="text-xs font-medium text-slate-700 ml-2">$2,139</span>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                <span class="text-sm text-slate-700">Return Customer</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">2 leads</span>
                <span class="text-xs font-medium text-slate-700 ml-2">$798</span>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-amber-500"></div>
                <span class="text-sm text-slate-700">Word of Mouth</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">1 lead</span>
                <span class="text-xs font-medium text-slate-700 ml-2">$774</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Revenue Mini Chart -->
        <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
          <h3 class="text-sm font-semibold text-slate-700 mb-1 flex items-center gap-2">
            <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            Revenue
          </h3>
          <p class="text-xs text-slate-400 mb-3">Last 6 months</p>
          <!-- Mini Bar Chart -->
          <div class="flex items-end justify-between gap-2 h-24">
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-200 rounded-t chart-bar" style="height: 45%"></div>
              <span class="text-[10px] text-slate-400">Oct</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-300 rounded-t chart-bar" style="height: 60%"></div>
              <span class="text-[10px] text-slate-400">Nov</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-300 rounded-t chart-bar" style="height: 52%"></div>
              <span class="text-[10px] text-slate-400">Dec</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-400 rounded-t chart-bar" style="height: 70%"></div>
              <span class="text-[10px] text-slate-400">Jan</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-500 rounded-t chart-bar" style="height: 85%"></div>
              <span class="text-[10px] text-slate-400">Feb</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-600 rounded-t chart-bar" style="height: 95%"></div>
              <span class="text-[10px] text-slate-400">Mar</span>
            </div>
          </div>
          <div class="flex items-center justify-between mt-2">
            <span class="text-xs text-slate-400">$18K</span>
            <span class="text-xs font-semibold text-blue-600">$26K this month</span>
          </div>
        </div>
      </div><!-- /Bottom Sections (mobile) -->

    </main>

    <!-- ===== DESKTOP SIDE PANEL ===== -->
    <aside class="hidden lg:block py-4 pr-2">
      <div class="desktop-side-panel space-y-5">

        <!-- Sales Leaders This Month -->
        <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
          <h3 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2">
            <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
            Sales Leaders This Month
          </h3>
          <div class="space-y-3">
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-xs font-bold text-blue-600">MC</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-medium text-slate-700 truncate">Monica Copo</span>
                  <span class="text-xs text-slate-500">7 jobs</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                  <div class="bg-blue-500 h-1.5 rounded-full" style="width: 100%"></div>
                </div>
                <p class="text-xs text-slate-400 mt-0.5">$8,096</p>
              </div>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-xs font-bold text-purple-600">DA</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-medium text-slate-700 truncate">Daniela</span>
                  <span class="text-xs text-slate-500">8 jobs</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                  <div class="bg-purple-500 h-1.5 rounded-full" style="width: 46%"></div>
                </div>
                <p class="text-xs text-slate-400 mt-0.5">$3,692</p>
              </div>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-xs font-bold text-emerald-600">RA</div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-medium text-slate-700 truncate">Raquel</span>
                  <span class="text-xs text-slate-500">3 jobs</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                  <div class="bg-emerald-500 h-1.5 rounded-full" style="width: 39%"></div>
                </div>
                <p class="text-xs text-slate-400 mt-0.5">$3,164</p>
              </div>
            </div>
          </div>
          <button class="mt-3 text-xs text-blue-600 font-medium hover:text-blue-700">See their jobs &rarr;</button>
        </div>

        <!-- Top Referral Sources -->
        <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
          <h3 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2">
            <svg class="w-4 h-4 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
            Top Referral Sources
          </h3>
          <div class="space-y-2.5">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                <span class="text-sm text-slate-700">Equate Media</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">14</span>
                <span class="text-xs font-medium text-slate-700 ml-1">$11,241</span>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-purple-500"></div>
                <span class="text-sm text-slate-700">Website</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">1</span>
                <span class="text-xs font-medium text-slate-700 ml-1">$2,139</span>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                <span class="text-sm text-slate-700">Return Customer</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">2</span>
                <span class="text-xs font-medium text-slate-700 ml-1">$798</span>
              </div>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-2">
                <div class="w-2 h-2 rounded-full bg-amber-500"></div>
                <span class="text-sm text-slate-700">Word of Mouth</span>
              </div>
              <div class="text-right">
                <span class="text-xs text-slate-500">1</span>
                <span class="text-xs font-medium text-slate-700 ml-1">$774</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Revenue Mini Chart -->
        <div class="bg-slate-50 rounded-2xl p-4 border border-slate-100">
          <h3 class="text-sm font-semibold text-slate-700 mb-1 flex items-center gap-2">
            <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            Revenue
          </h3>
          <p class="text-xs text-slate-400 mb-3">Last 6 months</p>
          <div class="flex items-end justify-between gap-2 h-24">
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-200 rounded-t chart-bar" style="height: 45%"></div>
              <span class="text-[10px] text-slate-400">Oct</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-300 rounded-t chart-bar" style="height: 60%"></div>
              <span class="text-[10px] text-slate-400">Nov</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-300 rounded-t chart-bar" style="height: 52%"></div>
              <span class="text-[10px] text-slate-400">Dec</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-400 rounded-t chart-bar" style="height: 70%"></div>
              <span class="text-[10px] text-slate-400">Jan</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-500 rounded-t chart-bar" style="height: 85%"></div>
              <span class="text-[10px] text-slate-400">Feb</span>
            </div>
            <div class="flex-1 flex flex-col items-center gap-1">
              <div class="w-full bg-blue-600 rounded-t chart-bar" style="height: 95%"></div>
              <span class="text-[10px] text-slate-400">Mar</span>
            </div>
          </div>
          <div class="flex items-center justify-between mt-2">
            <span class="text-xs text-slate-400">$18K</span>
            <span class="text-xs font-semibold text-blue-600">$26K this month</span>
          </div>
        </div>

      </div>
    </aside>

  </div><!-- /Main Layout -->


  <!-- ===== BOTTOM SHEET OVERLAY ===== -->
  <div id="sheetOverlay" class="bottom-sheet-overlay" onclick="closeSheet()"></div>

  <!-- ===== BOTTOM SHEET ===== -->
  <div id="bottomSheet" class="bottom-sheet">
    <div class="drag-handle"></div>

    <!-- Close Button -->
    <div class="flex items-center justify-between px-5 pt-3 pb-2">
      <h3 id="sheetTitle" class="text-base font-semibold text-slate-900">Details</h3>
      <button onclick="closeSheet()" class="w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors">
        <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
      </button>
    </div>

    <!-- Sheet Content -->
    <div id="sheetContent" class="px-5 pb-8">
      <!-- Dynamically populated -->
    </div>
  </div>


  <!-- ===== JAVASCRIPT ===== -->
  <script>
    function openSheet(type, data) {
      const overlay = document.getElementById('sheetOverlay');
      const sheet = document.getElementById('bottomSheet');
      const title = document.getElementById('sheetTitle');
      const content = document.getElementById('sheetContent');

      // Set title based on type
      const titles = {
        job: 'Job Details',
        lead: 'Lead Details',
        quote: 'Quote Details',
        invoice: 'Invoice Details'
      };
      title.textContent = titles[type] || 'Details';

      // Build content
      let html = '';

      // Customer info section
      html += `
        <div class="mb-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
              <span class="text-lg font-bold text-blue-600">${data.name.split(' ').map(n => n[0]).join('')}</span>
            </div>
            <div>
              <p class="font-semibold text-slate-900">${data.name}</p>
              <p class="text-xs text-slate-400">Customer</p>
            </div>
          </div>
          <div class="space-y-2">
            <a href="tel:${data.phone}" class="flex items-center gap-3 p-2.5 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors">
              <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
              <span class="text-sm text-slate-700">${data.phone}</span>
            </a>
            <a href="mailto:${data.email}" class="flex items-center gap-3 p-2.5 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors">
              <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
              <span class="text-sm text-slate-700">${data.email}</span>
            </a>
          </div>
        </div>
      `;

      // Details section varies by type
      html += '<div class="border-t border-slate-100 pt-4 mb-5">';

      if (type === 'job') {
        html += `
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Service</p>
              <p class="text-sm font-medium text-slate-700">${data.service}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Amount</p>
              <p class="text-sm font-medium text-slate-700">${data.amount}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Date</p>
              <p class="text-sm font-medium text-slate-700">${data.date}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Technician</p>
              <p class="text-sm font-medium text-slate-700">${data.tech}</p>
            </div>
          </div>
        `;
        // Status badge
        const statusColor = data.status.includes('Completed') ? 'emerald' : data.status.includes('Cancelled') ? 'red' : 'blue';
        html += `
          <div class="mt-3">
            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-${statusColor}-100 text-${statusColor}-700">${data.status}</span>
          </div>
        `;
      } else if (type === 'lead') {
        html += `
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Interest</p>
              <p class="text-sm font-medium text-slate-700">${data.interest}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Source</p>
              <p class="text-sm font-medium text-slate-700">${data.source}</p>
            </div>
            <div class="col-span-2 bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Stage</p>
              <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700">${data.stage}</span>
            </div>
          </div>
        `;
        if (data.notes) {
          html += `
            <div class="mt-3 bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Notes</p>
              <p class="text-sm text-slate-600">${data.notes}</p>
            </div>
          `;
        }
      } else if (type === 'quote') {
        html += `
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Service</p>
              <p class="text-sm font-medium text-slate-700">${data.service}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Amount</p>
              <p class="text-sm font-medium text-purple-600 font-bold">${data.amount}</p>
            </div>
          </div>
          <div class="mt-3">
            <span class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-700">${data.status}</span>
          </div>
        `;
        if (data.notes) {
          html += `
            <div class="mt-3 bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Details</p>
              <p class="text-sm text-slate-600">${data.notes}</p>
            </div>
          `;
        }
      } else if (type === 'invoice') {
        html += `
          <div class="grid grid-cols-2 gap-3">
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Invoice</p>
              <p class="text-sm font-medium text-slate-700">${data.invoice}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Amount</p>
              <p class="text-sm font-medium text-green-600 font-bold">${data.amount}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Status</p>
              <span class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700">${data.status}</span>
            </div>
            <div class="bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Method</p>
              <p class="text-sm font-medium text-slate-700">${data.method}</p>
            </div>
          </div>
        `;
        if (data.notes) {
          html += `
            <div class="mt-3 bg-slate-50 rounded-lg p-3">
              <p class="text-[10px] text-slate-400 uppercase tracking-wide font-medium mb-1">Notes</p>
              <p class="text-sm text-slate-600">${data.notes}</p>
            </div>
          `;
        }
      }

      html += '</div>';

      // Action buttons
      html += `
        <div class="flex gap-3">
          <button onclick="closeSheet()" class="flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-xl transition-colors">
            Open Full Details
          </button>
          <button onclick="closeSheet()" class="py-3 px-4 bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-semibold rounded-xl transition-colors">
            Close
          </button>
        </div>
      `;

      content.innerHTML = html;

      // Activate
      requestAnimationFrame(() => {
        overlay.classList.add('active');
        sheet.classList.add('active');
      });

      // Prevent body scroll
      document.body.style.overflow = 'hidden';
    }

    function closeSheet() {
      const overlay = document.getElementById('sheetOverlay');
      const sheet = document.getElementById('bottomSheet');

      overlay.classList.remove('active');
      sheet.classList.remove('active');

      // Re-enable body scroll
      document.body.style.overflow = '';
    }

    // Close sheet on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeSheet();
    });

    // Simple touch-to-dismiss on drag handle area
    let touchStartY = 0;
    const sheet = document.getElementById('bottomSheet');

    sheet.addEventListener('touchstart', (e) => {
      touchStartY = e.touches[0].clientY;
    }, { passive: true });

    sheet.addEventListener('touchend', (e) => {
      const touchEndY = e.changedTouches[0].clientY;
      const diff = touchEndY - touchStartY;
      // If swiped down more than 100px, close
      if (diff > 100) {
        closeSheet();
      }
    }, { passive: true });
  </script>

</body>
</html>