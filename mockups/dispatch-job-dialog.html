<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dispatch Job Details - Dialog Mockup</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f3f4f6; }

  /* Fake dispatch board behind */
  .dispatch-bg {
    padding: 24px;
    filter: blur(1px);
    opacity: 0.4;
  }
  .dispatch-bg h2 { font-size: 18px; color: #374151; margin-bottom: 16px; }
  .dispatch-bg .row { display: flex; gap: 8px; margin-bottom: 8px; }
  .dispatch-bg .cell { background: #e5e7eb; border-radius: 6px; height: 40px; flex: 1; }

  /* Overlay */
  .overlay {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.5);
    display: flex; align-items: center; justify-content: center;
    z-index: 50;
    animation: fadeIn 0.2s ease;
  }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  /* Dialog */
  .dialog {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
    width: 90%;
    max-width: 820px;
    max-height: 85vh;
    overflow-y: auto;
    animation: scaleIn 0.2s ease;
  }
  @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }

  /* Header */
  .dialog-header {
    padding: 20px 24px 16px;
    border-bottom: 1px solid #e5e7eb;
    position: relative;
  }
  .dialog-header h2 { font-size: 20px; font-weight: 600; color: #111827; }
  .dialog-header p { font-size: 14px; color: #6b7280; margin-top: 4px; }
  .close-btn {
    position: absolute; top: 16px; right: 16px;
    background: none; border: none; cursor: pointer;
    width: 32px; height: 32px; border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    color: #9ca3af; font-size: 18px;
  }
  .close-btn:hover { background: #f3f4f6; color: #374151; }

  /* Body - two columns */
  .dialog-body {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    padding: 24px;
  }
  @media (max-width: 640px) {
    .dialog-body { grid-template-columns: 1fr; }
  }

  /* Left column */
  .left-col { }

  .customer-row {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 16px;
  }
  .customer-name { font-size: 15px; font-weight: 600; color: #111827; }
  .customer-phone { font-size: 13px; color: #6b7280; margin-top: 2px; }
  .priority-badge {
    font-size: 11px; font-weight: 500; padding: 2px 10px;
    border-radius: 9999px; text-transform: capitalize;
  }
  .priority-normal { background: #dbeafe; color: #1d4ed8; }

  .info-row {
    display: flex; align-items: flex-start; gap: 8px;
    font-size: 13px; color: #4b5563; margin-bottom: 10px;
  }
  .info-icon { width: 16px; height: 16px; flex-shrink: 0; margin-top: 1px; color: #9ca3af; }

  .notes-section {
    margin-top: 12px; padding-top: 12px; border-top: 1px solid #e5e7eb;
  }

  .controls-section {
    margin-top: 16px; padding-top: 16px; border-top: 1px solid #e5e7eb;
  }

  .form-group { margin-bottom: 14px; }
  .form-label { font-size: 13px; font-weight: 500; color: #374151; margin-bottom: 6px; display: block; }
  .form-select {
    width: 100%; padding: 8px 12px; font-size: 13px;
    border: 1px solid #d1d5db; border-radius: 6px;
    background: #fff; color: #111827;
    appearance: auto; cursor: pointer;
  }

  .tab-group {
    display: flex; margin-bottom: 8px;
    border: 1px solid #d1d5db; border-radius: 6px; overflow: hidden;
  }
  .tab-btn {
    flex: 1; padding: 6px 12px; font-size: 12px; font-weight: 500;
    border: none; cursor: pointer; text-align: center;
    background: #fff; color: #6b7280;
  }
  .tab-btn.active { background: #f3f4f6; color: #111827; }

  /* Right column - Photos */
  .right-col { }

  .photos-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 12px;
  }
  .photos-title { font-size: 14px; font-weight: 600; color: #111827; }
  .photo-count { font-size: 12px; color: #6b7280; }

  .photo-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
  }

  .photo-thumb {
    aspect-ratio: 1;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    position: relative;
    border: 1px solid #e5e7eb;
    background: #f9fafb;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }
  .photo-thumb:hover {
    transform: scale(1.03);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
  .photo-thumb img {
    width: 100%; height: 100%; object-fit: cover;
  }
  .photo-thumb .hover-overlay {
    position: absolute; inset: 0;
    background: rgba(0,0,0,0.4);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.15s ease;
  }
  .photo-thumb:hover .hover-overlay { opacity: 1; }
  .hover-overlay svg { width: 24px; height: 24px; color: #fff; }

  /* Empty photos state */
  .photos-empty {
    display: flex; flex-direction: column; align-items: center;
    justify-content: center;
    padding: 40px 20px;
    border: 2px dashed #d1d5db; border-radius: 8px;
    color: #9ca3af;
  }
  .photos-empty svg { width: 32px; height: 32px; margin-bottom: 8px; }
  .photos-empty p { font-size: 13px; }

  /* Footer */
  .dialog-footer {
    padding: 12px 24px 20px;
    display: flex; justify-content: flex-end; gap: 8px;
  }
  .btn {
    padding: 8px 16px; font-size: 13px; font-weight: 500;
    border-radius: 6px; cursor: pointer; border: none;
  }
  .btn-outline { background: #fff; border: 1px solid #d1d5db; color: #374151; }
  .btn-outline:hover { background: #f9fafb; }
  .btn-primary { background: #2563eb; color: #fff; }
  .btn-primary:hover { background: #1d4ed8; }

  /* Lightbox */
  .lightbox {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.85);
    display: none; align-items: center; justify-content: center;
    z-index: 100;
    cursor: pointer;
  }
  .lightbox.open { display: flex; }
  .lightbox img {
    max-width: 90%; max-height: 85vh;
    border-radius: 8px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.5);
  }
  .lightbox-close {
    position: absolute; top: 16px; right: 16px;
    background: rgba(255,255,255,0.15); border: none;
    color: #fff; width: 40px; height: 40px;
    border-radius: 50%; cursor: pointer;
    font-size: 20px; display: flex; align-items: center; justify-content: center;
  }
  .lightbox-close:hover { background: rgba(255,255,255,0.25); }
  .lightbox-nav {
    position: absolute; top: 50%; transform: translateY(-50%);
    background: rgba(255,255,255,0.15); border: none;
    color: #fff; width: 44px; height: 44px;
    border-radius: 50%; cursor: pointer;
    font-size: 22px; display: flex; align-items: center; justify-content: center;
  }
  .lightbox-nav:hover { background: rgba(255,255,255,0.25); }
  .lightbox-nav.prev { left: 16px; }
  .lightbox-nav.next { right: 16px; }

  /* Toggle buttons */
  .toggle-bar {
    position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%);
    display: flex; gap: 8px; z-index: 200;
    background: #fff; padding: 8px 16px; border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  }
  .toggle-btn {
    padding: 8px 16px; font-size: 12px; font-weight: 600;
    border-radius: 6px; cursor: pointer;
    border: 2px solid #2563eb; background: #fff; color: #2563eb;
  }
  .toggle-btn:hover, .toggle-btn.active { background: #2563eb; color: #fff; }
</style>
</head>
<body>

<!-- Blurred dispatch background -->
<div class="dispatch-bg">
  <h2>Dispatch Board Preview</h2>
  <div class="row"><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div></div>
  <div class="row"><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div></div>
  <div class="row"><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div></div>
  <div class="row"><div class="cell"></div><div class="cell"></div><div class="cell"></div><div class="cell"></div></div>
</div>

<!-- Dialog Overlay -->
<div class="overlay" id="dialog-overlay">
  <div class="dialog">
    <div class="dialog-header">
      <h2>AC Unit Repair</h2>
      <p>Central AC not cooling properly. Customer reports warm air.</p>
      <button class="close-btn" onclick="toggleDialog()">âœ•</button>
    </div>

    <div class="dialog-body">
      <!-- Left Column: Job Details -->
      <div class="left-col">
        <div class="customer-row">
          <div>
            <div class="customer-name">Adam Richardson</div>
            <div class="customer-phone">ðŸ“ž (480) 555-1234</div>
          </div>
          <span class="priority-badge priority-normal">Normal</span>
        </div>

        <div class="info-row">
          <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
          <span>4521 E Cactus Rd, Scottsdale, AZ 85254</span>
        </div>

        <div class="info-row">
          <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          <span>2026-02-09 at 07:00</span>
        </div>

        <div class="info-row">
          <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
          <span>90 minutes</span>
        </div>

        <div class="notes-section">
          <div class="info-row">
            <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
            <span>Test job for Adam Richardson</span>
          </div>
        </div>

        <div class="controls-section">
          <div class="form-group">
            <label class="form-label">Status</label>
            <select class="form-select">
              <option selected>Scheduled</option>
              <option>In Progress</option>
              <option>Completed</option>
              <option>Cancelled</option>
            </select>
          </div>

          <div class="form-group">
            <label class="form-label">Assigned Technician</label>
            <div class="tab-group">
              <button class="tab-btn active">Individual</button>
              <button class="tab-btn">Crew</button>
            </div>
            <select class="form-select">
              <option>Adam Richardson</option>
              <option>John Smith</option>
              <option>Jimmy G</option>
              <option>Sammy T</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Right Column: Photos -->
      <div class="right-col" id="photos-col">
        <!-- With photos (default) -->
        <div id="photos-filled">
          <div class="photos-header">
            <span class="photos-title">Job Photos</span>
            <span class="photo-count">5 photos</span>
          </div>
          <div class="photo-grid">
            <div class="photo-thumb" onclick="openLightbox(0)">
              <img src="https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=300&h=300&fit=crop" alt="AC unit exterior" />
              <div class="hover-overlay">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
              </div>
            </div>
            <div class="photo-thumb" onclick="openLightbox(1)">
              <img src="https://images.unsplash.com/photo-1631545806609-3c480a498e26?w=300&h=300&fit=crop" alt="AC unit filter" />
              <div class="hover-overlay">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
              </div>
            </div>
            <div class="photo-thumb" onclick="openLightbox(2)">
              <img src="https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?w=300&h=300&fit=crop" alt="Thermostat" />
              <div class="hover-overlay">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
              </div>
            </div>
            <div class="photo-thumb" onclick="openLightbox(3)">
              <img src="https://images.unsplash.com/photo-1621905252507-b35492cc74b4?w=300&h=300&fit=crop" alt="Ductwork" />
              <div class="hover-overlay">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
              </div>
            </div>
            <div class="photo-thumb" onclick="openLightbox(4)">
              <img src="https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=300&h=300&fit=crop" alt="Work area" />
              <div class="hover-overlay">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
              </div>
            </div>
          </div>
        </div>

        <!-- Empty state (hidden by default) -->
        <div id="photos-empty" style="display: none;">
          <div class="photos-header">
            <span class="photos-title">Job Photos</span>
            <span class="photo-count">0 photos</span>
          </div>
          <div class="photos-empty">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
            <p>No photos attached to this job</p>
          </div>
        </div>
      </div>
    </div>

    <div class="dialog-footer">
      <button class="btn btn-outline" onclick="toggleDialog()">Close</button>
      <button class="btn btn-primary">View Full Job â†’</button>
    </div>
  </div>
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <button class="lightbox-close" onclick="closeLightbox()">âœ•</button>
  <button class="lightbox-nav prev" onclick="event.stopPropagation(); navLightbox(-1)">â€¹</button>
  <img id="lightbox-img" src="" alt="Full size photo" onclick="event.stopPropagation()" />
  <button class="lightbox-nav next" onclick="event.stopPropagation(); navLightbox(1)">â€º</button>
</div>

<!-- Toggle controls -->
<div class="toggle-bar">
  <button class="toggle-btn" onclick="togglePhotos()">Toggle: With Photos / No Photos</button>
  <button class="toggle-btn" onclick="toggleDialog()">Toggle: Open / Close Dialog</button>
</div>

<script>
  const photos = [
    'https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=900&h=700&fit=crop',
    'https://images.unsplash.com/photo-1631545806609-3c480a498e26?w=900&h=700&fit=crop',
    'https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?w=900&h=700&fit=crop',
    'https://images.unsplash.com/photo-1621905252507-b35492cc74b4?w=900&h=700&fit=crop',
    'https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=900&h=700&fit=crop',
  ];
  let currentPhoto = 0;
  let hasPhotos = true;

  function openLightbox(idx) {
    currentPhoto = idx;
    document.getElementById('lightbox-img').src = photos[idx];
    document.getElementById('lightbox').classList.add('open');
  }
  function closeLightbox() {
    document.getElementById('lightbox').classList.remove('open');
  }
  function navLightbox(dir) {
    currentPhoto = (currentPhoto + dir + photos.length) % photos.length;
    document.getElementById('lightbox-img').src = photos[currentPhoto];
  }
  function togglePhotos() {
    hasPhotos = !hasPhotos;
    document.getElementById('photos-filled').style.display = hasPhotos ? 'block' : 'none';
    document.getElementById('photos-empty').style.display = hasPhotos ? 'none' : 'block';
  }
  function toggleDialog() {
    const overlay = document.getElementById('dialog-overlay');
    overlay.style.display = overlay.style.display === 'none' ? 'flex' : 'none';
  }
</script>

</body>
</html>
