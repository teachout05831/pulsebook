<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ServicePro Dashboard - Command Center</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

    /* Scrollbar styling */
    .panel-scroll::-webkit-scrollbar { width: 5px; }
    .panel-scroll::-webkit-scrollbar-track { background: transparent; }
    .panel-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    .panel-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

    /* Smooth transitions for collapsible sections */
    .collapsible-content {
      max-height: 2000px;
      overflow: hidden;
      transition: max-height 0.35s ease-in-out, opacity 0.25s ease-in-out;
      opacity: 1;
    }
    .collapsible-content.collapsed {
      max-height: 0;
      opacity: 0;
    }

    /* Card hover */
    .job-card {
      transition: all 0.15s ease;
    }
    .job-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* Pipeline step hover */
    .pipeline-item {
      transition: all 0.15s ease;
    }
    .pipeline-item:hover {
      transform: scale(1.03);
    }

    /* Modal backdrop */
    .modal-backdrop {
      background: rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(4px);
    }

    /* Revenue bar animation */
    .rev-bar {
      transition: height 0.6s ease;
    }

    /* Leader bar animation */
    .leader-bar {
      transition: width 0.8s ease;
    }

    /* Referral bar animation */
    .referral-bar {
      transition: width 0.8s ease;
    }

    /* Quick stat card pulse on hover */
    .quick-stat:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .quick-stat {
      transition: all 0.2s ease;
    }
  </style>
</head>
<body class="font-sans bg-slate-50 text-slate-800 min-h-screen">

  <!-- ========== HEADER BAR ========== -->
  <header class="bg-slate-800 text-white sticky top-0 z-40 shadow-lg">
    <div class="max-w-[1920px] mx-auto px-4 sm:px-6">
      <!-- Desktop header -->
      <div class="hidden md:flex items-center justify-between h-14">
        <div class="flex items-center gap-4">
          <h1 class="text-lg font-bold tracking-tight">Dashboard</h1>
          <span class="text-slate-400 text-sm font-medium">March 14, 2025</span>
        </div>
        <div class="flex items-center gap-1">
          <div class="flex items-center gap-3 bg-slate-700/60 rounded-lg px-4 py-1.5">
            <div class="text-center border-r border-slate-600 pr-3">
              <div class="text-xs text-slate-400 leading-none">Jobs/Month</div>
              <div class="text-sm font-bold leading-tight">30 <span class="text-green-400 font-semibold">/ $26K</span></div>
            </div>
            <div class="text-center border-r border-slate-600 pr-3">
              <div class="text-xs text-slate-400 leading-none">Today</div>
              <div class="text-sm font-bold leading-tight">5</div>
            </div>
            <div class="text-center border-r border-slate-600 pr-3">
              <div class="text-xs text-slate-400 leading-none">Avg Job</div>
              <div class="text-sm font-bold leading-tight">$964</div>
            </div>
            <div class="text-center">
              <div class="text-xs text-slate-400 leading-none">Revenue</div>
              <div class="text-sm font-bold leading-tight text-green-400">$26K</div>
            </div>
          </div>
        </div>
      </div>
      <!-- Mobile header -->
      <div class="md:hidden">
        <div class="flex items-center justify-between h-12">
          <div>
            <h1 class="text-base font-bold">Dashboard</h1>
            <span class="text-slate-400 text-xs">March 14, 2025</span>
          </div>
          <button onclick="toggleMobileStats()" class="text-slate-400 hover:text-white p-1">
            <svg id="mobile-stats-chevron" class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
        </div>
        <div id="mobile-stats" class="collapsible-content collapsed pb-3">
          <div class="grid grid-cols-4 gap-2">
            <div class="bg-slate-700/60 rounded-lg p-2 text-center">
              <div class="text-[10px] text-slate-400">Jobs/Mo</div>
              <div class="text-xs font-bold">30/$26K</div>
            </div>
            <div class="bg-slate-700/60 rounded-lg p-2 text-center">
              <div class="text-[10px] text-slate-400">Today</div>
              <div class="text-xs font-bold">5</div>
            </div>
            <div class="bg-slate-700/60 rounded-lg p-2 text-center">
              <div class="text-[10px] text-slate-400">Avg Job</div>
              <div class="text-xs font-bold">$964</div>
            </div>
            <div class="bg-slate-700/60 rounded-lg p-2 text-center">
              <div class="text-[10px] text-slate-400">Revenue</div>
              <div class="text-xs font-bold text-green-400">$26K</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- ========== MAIN CONTENT: SPLIT PANELS ========== -->
  <main class="max-w-[1920px] mx-auto">
    <div class="flex flex-col lg:flex-row min-h-[calc(100vh-56px)]">

      <!-- ===== LEFT PANEL: LIVE ACTIVITY (60%) ===== -->
      <div class="w-full lg:w-[60%] xl:w-[60%] p-4 sm:p-5 lg:pr-2.5 panel-scroll lg:max-h-[calc(100vh-56px)] lg:overflow-y-auto">

        <!-- -- BOOKED JOBS SECTION -- -->
        <section class="mb-5">
          <button onclick="toggleSection('booked-jobs')" class="w-full flex items-center justify-between mb-3 group">
            <div class="flex items-center gap-2">
              <h2 class="text-base font-bold text-slate-800">Booked Jobs</h2>
              <span class="bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-full">6</span>
            </div>
            <svg id="booked-jobs-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="booked-jobs" class="collapsible-content">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">

              <!-- Card: Sarah Mitchell -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('sarah-mitchell')">
                <div class="flex items-start gap-3">
                  <div class="w-9 h-9 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center text-sm font-bold flex-shrink-0">SM</div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="text-sm font-semibold text-slate-800 truncate">Sarah Mitchell</h3>
                      <span class="text-sm font-bold text-slate-800">$450</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-0.5">Deep Clean</p>
                    <div class="flex items-center justify-between mt-2">
                      <div class="flex items-center gap-1.5">
                        <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                        <span class="text-xs text-slate-500">Mar 15</span>
                      </div>
                      <span class="inline-flex items-center gap-1 text-xs font-medium text-purple-700 bg-purple-50 px-2 py-0.5 rounded-full">
                        <span class="w-1.5 h-1.5 rounded-full bg-purple-500"></span>Daniela
                      </span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card: David Kim -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('david-kim')">
                <div class="flex items-start gap-3">
                  <div class="w-9 h-9 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-bold flex-shrink-0">DK</div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="text-sm font-semibold text-slate-800 truncate">David Kim</h3>
                      <span class="text-sm font-bold text-slate-800">$650</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-0.5">HVAC Maintenance</p>
                    <div class="flex items-center justify-between mt-2">
                      <div class="flex items-center gap-1.5">
                        <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                        <span class="text-xs text-slate-500">Mar 18</span>
                      </div>
                      <span class="inline-flex items-center gap-1 text-xs font-medium text-rose-700 bg-rose-50 px-2 py-0.5 rounded-full">
                        <span class="w-1.5 h-1.5 rounded-full bg-rose-500"></span>Raquel
                      </span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card: Jennifer Lee -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('jennifer-lee')">
                <div class="flex items-start gap-3">
                  <div class="w-9 h-9 rounded-full bg-green-100 text-green-700 flex items-center justify-center text-sm font-bold flex-shrink-0">JL</div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="text-sm font-semibold text-slate-800 truncate">Jennifer Lee</h3>
                      <span class="text-sm font-bold text-slate-800">$340</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-0.5">Home Cleaning</p>
                    <div class="flex items-center justify-between mt-2">
                      <div class="flex items-center gap-1.5">
                        <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                        <span class="text-xs text-slate-500">Mar 14</span>
                      </div>
                      <span class="inline-flex items-center gap-1 text-xs font-medium text-teal-700 bg-teal-50 px-2 py-0.5 rounded-full">
                        <span class="w-1.5 h-1.5 rounded-full bg-teal-500"></span>Monica
                      </span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card: Robert Wilson -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('robert-wilson')">
                <div class="flex items-start gap-3">
                  <div class="w-9 h-9 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-sm font-bold flex-shrink-0">RW</div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="text-sm font-semibold text-slate-800 truncate">Robert Wilson</h3>
                      <span class="text-sm font-bold text-slate-800">$285</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-0.5">Pool Service</p>
                    <div class="flex items-center justify-between mt-2">
                      <div class="flex items-center gap-1.5">
                        <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                        <span class="text-xs text-slate-500">Mar 16</span>
                      </div>
                      <span class="inline-flex items-center gap-1 text-xs font-medium text-purple-700 bg-purple-50 px-2 py-0.5 rounded-full">
                        <span class="w-1.5 h-1.5 rounded-full bg-purple-500"></span>Daniela
                      </span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card: Amy Johnson -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('amy-johnson')">
                <div class="flex items-start gap-3">
                  <div class="w-9 h-9 rounded-full bg-pink-100 text-pink-700 flex items-center justify-center text-sm font-bold flex-shrink-0">AJ</div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="text-sm font-semibold text-slate-800 truncate">Amy Johnson</h3>
                      <span class="text-sm font-bold text-slate-800">$520</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-0.5">Carpet Cleaning</p>
                    <div class="flex items-center justify-between mt-2">
                      <div class="flex items-center gap-1.5">
                        <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                        <span class="text-xs text-slate-500">Mar 17</span>
                      </div>
                      <span class="inline-flex items-center gap-1 text-xs font-medium text-rose-700 bg-rose-50 px-2 py-0.5 rounded-full">
                        <span class="w-1.5 h-1.5 rounded-full bg-rose-500"></span>Raquel
                      </span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card: Lisa Chen -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('lisa-chen')">
                <div class="flex items-start gap-3">
                  <div class="w-9 h-9 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-bold flex-shrink-0">LC</div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="text-sm font-semibold text-slate-800 truncate">Lisa Chen</h3>
                      <span class="text-sm font-bold text-slate-800">$2,800</span>
                    </div>
                    <p class="text-xs text-slate-500 mt-0.5">Office Move</p>
                    <div class="flex items-center justify-between mt-2">
                      <div class="flex items-center gap-1.5">
                        <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
                        <span class="text-xs text-slate-500">Mar 20</span>
                      </div>
                      <span class="inline-flex items-center gap-1 text-xs font-medium text-teal-700 bg-teal-50 px-2 py-0.5 rounded-full">
                        <span class="w-1.5 h-1.5 rounded-full bg-teal-500"></span>Monica
                      </span>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- -- LEAD PIPELINE SECTION -- -->
        <section class="mb-5">
          <button onclick="toggleSection('lead-pipeline')" class="w-full flex items-center justify-between mb-3 group">
            <div class="flex items-center gap-2">
              <h2 class="text-base font-bold text-slate-800">Lead Pipeline</h2>
              <span class="bg-slate-200 text-slate-600 text-xs font-bold px-2 py-0.5 rounded-full">11</span>
            </div>
            <svg id="lead-pipeline-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="lead-pipeline" class="collapsible-content">
            <div class="bg-white rounded-xl border border-slate-200 p-4 overflow-x-auto">
              <div class="flex gap-3 min-w-[700px]">

                <!-- New -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-2.5">
                    <div class="w-2 h-2 rounded-full bg-blue-500"></div>
                    <span class="text-xs font-bold text-slate-700 uppercase tracking-wide">New</span>
                    <span class="text-xs font-bold text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded">4</span>
                  </div>
                  <div class="space-y-2">
                    <div class="pipeline-item bg-blue-50 border border-blue-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('james-r')">
                      <div class="text-xs font-semibold text-slate-700">James R.</div>
                      <div class="text-[10px] text-slate-500">Window Cleaning</div>
                    </div>
                    <div class="pipeline-item bg-blue-50 border border-blue-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('maria-g')">
                      <div class="text-xs font-semibold text-slate-700">Maria G.</div>
                      <div class="text-[10px] text-slate-500">Lawn Service</div>
                    </div>
                    <div class="pipeline-item bg-blue-50 border border-blue-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('tom-b')">
                      <div class="text-xs font-semibold text-slate-700">Tom B.</div>
                      <div class="text-[10px] text-slate-500">Carpet Cleaning</div>
                    </div>
                    <div class="pipeline-item bg-blue-50 border border-blue-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('alex-p')">
                      <div class="text-xs font-semibold text-slate-700">Alex P.</div>
                      <div class="text-[10px] text-slate-500">Window Cleaning</div>
                    </div>
                  </div>
                </div>

                <!-- Arrow -->
                <div class="flex items-center text-slate-300 flex-shrink-0 pt-6">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </div>

                <!-- Contacted -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-2.5">
                    <div class="w-2 h-2 rounded-full bg-yellow-500"></div>
                    <span class="text-xs font-bold text-slate-700 uppercase tracking-wide">Contacted</span>
                    <span class="text-xs font-bold text-yellow-600 bg-yellow-50 px-1.5 py-0.5 rounded">3</span>
                  </div>
                  <div class="space-y-2">
                    <div class="pipeline-item bg-yellow-50 border border-yellow-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('lisa-c')">
                      <div class="text-xs font-semibold text-slate-700">Lisa C.</div>
                      <div class="text-[10px] text-slate-500">Office Move</div>
                    </div>
                    <div class="pipeline-item bg-yellow-50 border border-yellow-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('david-k')">
                      <div class="text-xs font-semibold text-slate-700">David K.</div>
                      <div class="text-[10px] text-slate-500">HVAC Repair</div>
                    </div>
                    <div class="pipeline-item bg-yellow-50 border border-yellow-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('amy-j')">
                      <div class="text-xs font-semibold text-slate-700">Amy J.</div>
                      <div class="text-[10px] text-slate-500">Carpet Cleaning</div>
                    </div>
                  </div>
                </div>

                <!-- Arrow -->
                <div class="flex items-center text-slate-300 flex-shrink-0 pt-6">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </div>

                <!-- Qualified -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-2.5">
                    <div class="w-2 h-2 rounded-full bg-purple-500"></div>
                    <span class="text-xs font-bold text-slate-700 uppercase tracking-wide">Qualified</span>
                    <span class="text-xs font-bold text-purple-600 bg-purple-50 px-1.5 py-0.5 rounded">2</span>
                  </div>
                  <div class="space-y-2">
                    <div class="pipeline-item bg-purple-50 border border-purple-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('jennifer-l')">
                      <div class="text-xs font-semibold text-slate-700">Jennifer L.</div>
                      <div class="text-[10px] text-slate-500">Home Cleaning</div>
                    </div>
                    <div class="pipeline-item bg-purple-50 border border-purple-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('robert-w')">
                      <div class="text-xs font-semibold text-slate-700">Robert W.</div>
                      <div class="text-[10px] text-slate-500">Pool Service</div>
                    </div>
                  </div>
                </div>

                <!-- Arrow -->
                <div class="flex items-center text-slate-300 flex-shrink-0 pt-6">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </div>

                <!-- Proposal -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-2.5">
                    <div class="w-2 h-2 rounded-full bg-orange-500"></div>
                    <span class="text-xs font-bold text-slate-700 uppercase tracking-wide">Proposal</span>
                    <span class="text-xs font-bold text-orange-600 bg-orange-50 px-1.5 py-0.5 rounded">1</span>
                  </div>
                  <div class="space-y-2">
                    <div class="pipeline-item bg-orange-50 border border-orange-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('sarah-m')">
                      <div class="text-xs font-semibold text-slate-700">Sarah M.</div>
                      <div class="text-[10px] text-slate-500">Deep Clean</div>
                    </div>
                  </div>
                </div>

                <!-- Arrow -->
                <div class="flex items-center text-slate-300 flex-shrink-0 pt-6">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </div>

                <!-- Won -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-2.5">
                    <div class="w-2 h-2 rounded-full bg-green-500"></div>
                    <span class="text-xs font-bold text-slate-700 uppercase tracking-wide">Won</span>
                    <span class="text-xs font-bold text-green-600 bg-green-50 px-1.5 py-0.5 rounded">1</span>
                  </div>
                  <div class="space-y-2">
                    <div class="pipeline-item bg-green-50 border border-green-100 rounded-lg px-3 py-2 cursor-pointer" onclick="openModal('monica-lead')">
                      <div class="text-xs font-semibold text-slate-700">Monica's Lead</div>
                      <div class="text-[10px] text-slate-500">Full Remodel</div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </section>

        <!-- -- RECENT QUOTES SECTION -- -->
        <section class="mb-5">
          <button onclick="toggleSection('recent-quotes')" class="w-full flex items-center justify-between mb-3 group">
            <div class="flex items-center gap-2">
              <h2 class="text-base font-bold text-slate-800">Recent Quotes</h2>
              <span class="bg-slate-200 text-slate-600 text-xs font-bold px-2 py-0.5 rounded-full">4</span>
            </div>
            <svg id="recent-quotes-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="recent-quotes" class="collapsible-content">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">

              <!-- Quote: Lisa Chen -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('quote-lisa')">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2.5">
                    <div class="w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-xs font-bold">LC</div>
                    <div>
                      <div class="text-sm font-semibold text-slate-800">Lisa Chen</div>
                      <div class="text-xs text-slate-500">Office Move</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm font-bold text-slate-800">$2,800</div>
                    <span class="inline-block text-[10px] font-semibold bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full mt-0.5">Sent</span>
                  </div>
                </div>
              </div>

              <!-- Quote: David Kim -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('quote-david')">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2.5">
                    <div class="w-8 h-8 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold">DK</div>
                    <div>
                      <div class="text-sm font-semibold text-slate-800">David Kim</div>
                      <div class="text-xs text-slate-500">HVAC Maintenance</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm font-bold text-slate-800">$650</div>
                    <span class="inline-block text-[10px] font-semibold bg-green-100 text-green-700 px-2 py-0.5 rounded-full mt-0.5">Approved</span>
                  </div>
                </div>
              </div>

              <!-- Quote: Tom Baker -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('quote-tom')">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2.5">
                    <div class="w-8 h-8 rounded-full bg-amber-100 text-amber-700 flex items-center justify-center text-xs font-bold">TB</div>
                    <div>
                      <div class="text-sm font-semibold text-slate-800">Tom Baker</div>
                      <div class="text-xs text-slate-500">Carpet Cleaning</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm font-bold text-slate-800">$420</div>
                    <span class="inline-block text-[10px] font-semibold bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full mt-0.5">Draft</span>
                  </div>
                </div>
              </div>

              <!-- Quote: Maria Garcia -->
              <div class="job-card bg-white rounded-xl border border-slate-200 p-3.5 cursor-pointer" onclick="openModal('quote-maria')">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2.5">
                    <div class="w-8 h-8 rounded-full bg-rose-100 text-rose-700 flex items-center justify-center text-xs font-bold">MG</div>
                    <div>
                      <div class="text-sm font-semibold text-slate-800">Maria Garcia</div>
                      <div class="text-xs text-slate-500">Lawn Service</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="text-sm font-bold text-slate-800">$285</div>
                    <span class="inline-block text-[10px] font-semibold bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full mt-0.5">Sent</span>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- -- CANCELLATIONS SECTION -- -->
        <section class="mb-5">
          <button onclick="toggleSection('cancellations')" class="w-full flex items-center justify-between mb-3 group">
            <div class="flex items-center gap-2">
              <h2 class="text-base font-bold text-slate-800">Cancellations</h2>
              <span class="bg-red-100 text-red-700 text-xs font-bold px-2 py-0.5 rounded-full">2</span>
            </div>
            <svg id="cancellations-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="cancellations" class="collapsible-content">
            <div class="space-y-2">

              <!-- Cancellation: Tom Baker -->
              <div class="bg-white rounded-xl border border-red-200 p-3.5 flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2">
                    <span class="text-sm font-semibold text-slate-800">Tom Baker</span>
                    <span class="text-xs text-slate-400">-</span>
                    <span class="text-xs text-slate-500">Carpet Cleaning</span>
                  </div>
                  <div class="flex items-center gap-1.5 mt-0.5">
                    <svg class="w-3 h-3 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-xs text-red-600 font-medium">"Schedule conflict"</span>
                  </div>
                </div>
                <span class="text-xs text-slate-400 flex-shrink-0">Mar 12</span>
              </div>

              <!-- Cancellation: Alex Park -->
              <div class="bg-white rounded-xl border border-red-200 p-3.5 flex items-center gap-3">
                <div class="w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2">
                    <span class="text-sm font-semibold text-slate-800">Alex Park</span>
                    <span class="text-xs text-slate-400">-</span>
                    <span class="text-xs text-slate-500">Window Cleaning</span>
                  </div>
                  <div class="flex items-center gap-1.5 mt-0.5">
                    <svg class="w-3 h-3 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                    <span class="text-xs text-red-600 font-medium">"Found cheaper option"</span>
                  </div>
                </div>
                <span class="text-xs text-slate-400 flex-shrink-0">Mar 13</span>
              </div>

            </div>
          </div>
        </section>

      </div>

      <!-- ===== RIGHT PANEL: METRICS (40%) ===== -->
      <div class="w-full lg:w-[40%] xl:w-[40%] p-4 sm:p-5 lg:pl-2.5 panel-scroll lg:max-h-[calc(100vh-56px)] lg:overflow-y-auto lg:border-l border-slate-200">

        <!-- -- SALES LEADERS -- -->
        <section class="mb-5">
          <button onclick="toggleSection('sales-leaders')" class="w-full flex items-center justify-between mb-3 group">
            <h2 class="text-base font-bold text-slate-800">Sales Leaders This Month</h2>
            <svg id="sales-leaders-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="sales-leaders" class="collapsible-content">
            <div class="bg-white rounded-xl border border-slate-200 p-4 space-y-4">

              <!-- #1 Monica Copo -->
              <div class="cursor-pointer group" onclick="openModal('leader-monica')">
                <div class="flex items-center justify-between mb-1.5">
                  <div class="flex items-center gap-2.5">
                    <span class="w-6 h-6 rounded-full bg-yellow-400 text-yellow-900 flex items-center justify-center text-[10px] font-extrabold">#1</span>
                    <span class="text-sm font-semibold text-slate-800 group-hover:text-blue-600 transition-colors">Monica Copo</span>
                  </div>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$8,096</span>
                    <span class="text-xs text-slate-400 ml-1.5">7 jobs</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-3 overflow-hidden">
                  <div class="leader-bar bg-gradient-to-r from-green-500 to-green-400 h-full rounded-full" style="width: 100%"></div>
                </div>
              </div>

              <!-- #2 Daniela -->
              <div class="cursor-pointer group" onclick="openModal('leader-daniela')">
                <div class="flex items-center justify-between mb-1.5">
                  <div class="flex items-center gap-2.5">
                    <span class="w-6 h-6 rounded-full bg-slate-300 text-slate-700 flex items-center justify-center text-[10px] font-extrabold">#2</span>
                    <span class="text-sm font-semibold text-slate-800 group-hover:text-blue-600 transition-colors">Daniela</span>
                  </div>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$3,692</span>
                    <span class="text-xs text-slate-400 ml-1.5">8 jobs</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-3 overflow-hidden">
                  <div class="leader-bar bg-gradient-to-r from-green-500 to-green-400 h-full rounded-full" style="width: 46%"></div>
                </div>
              </div>

              <!-- #3 Raquel -->
              <div class="cursor-pointer group" onclick="openModal('leader-raquel')">
                <div class="flex items-center justify-between mb-1.5">
                  <div class="flex items-center gap-2.5">
                    <span class="w-6 h-6 rounded-full bg-amber-700 text-amber-100 flex items-center justify-center text-[10px] font-extrabold">#3</span>
                    <span class="text-sm font-semibold text-slate-800 group-hover:text-blue-600 transition-colors">Raquel</span>
                  </div>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$3,164</span>
                    <span class="text-xs text-slate-400 ml-1.5">3 jobs</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-3 overflow-hidden">
                  <div class="leader-bar bg-gradient-to-r from-green-500 to-green-400 h-full rounded-full" style="width: 39%"></div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- -- TOP REFERRAL SOURCES -- -->
        <section class="mb-5">
          <button onclick="toggleSection('referral-sources')" class="w-full flex items-center justify-between mb-3 group">
            <h2 class="text-base font-bold text-slate-800">Top Referral Sources</h2>
            <svg id="referral-sources-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="referral-sources" class="collapsible-content">
            <div class="bg-white rounded-xl border border-slate-200 p-4 space-y-3.5">

              <!-- Equate Media -->
              <div>
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-semibold text-slate-700">Equate Media</span>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$11,241</span>
                    <span class="text-xs text-slate-400 ml-1.5">14 leads</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-2.5 overflow-hidden">
                  <div class="referral-bar bg-gradient-to-r from-emerald-500 to-emerald-400 h-full rounded-full" style="width: 100%"></div>
                </div>
              </div>

              <!-- Your Website -->
              <div>
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-semibold text-slate-700">Your Website</span>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$2,139</span>
                    <span class="text-xs text-slate-400 ml-1.5">1 lead</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-2.5 overflow-hidden">
                  <div class="referral-bar bg-gradient-to-r from-emerald-500 to-emerald-400 h-full rounded-full" style="width: 19%"></div>
                </div>
              </div>

              <!-- Return Customer -->
              <div>
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-semibold text-slate-700">Return Customer</span>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$798</span>
                    <span class="text-xs text-slate-400 ml-1.5">2 leads</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-2.5 overflow-hidden">
                  <div class="referral-bar bg-gradient-to-r from-emerald-500 to-emerald-400 h-full rounded-full" style="width: 7%"></div>
                </div>
              </div>

              <!-- Word of Mouth -->
              <div>
                <div class="flex items-center justify-between mb-1">
                  <span class="text-sm font-semibold text-slate-700">Word of Mouth</span>
                  <div class="text-right">
                    <span class="text-sm font-bold text-slate-800">$774</span>
                    <span class="text-xs text-slate-400 ml-1.5">1 lead</span>
                  </div>
                </div>
                <div class="w-full bg-slate-100 rounded-full h-2.5 overflow-hidden">
                  <div class="referral-bar bg-gradient-to-r from-emerald-500 to-emerald-400 h-full rounded-full" style="width: 7%"></div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- -- REVENUE CHART -- -->
        <section class="mb-5">
          <button onclick="toggleSection('revenue-chart')" class="w-full flex items-center justify-between mb-3 group">
            <h2 class="text-base font-bold text-slate-800">Revenue</h2>
            <svg id="revenue-chart-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="revenue-chart" class="collapsible-content">
            <div class="bg-white rounded-xl border border-slate-200 p-4">

              <!-- Toggle -->
              <div class="flex gap-1 mb-4 bg-slate-100 rounded-lg p-0.5 w-fit">
                <button id="btn-12m" onclick="toggleRevenue('12m')" class="text-xs font-semibold px-3 py-1.5 rounded-md bg-blue-600 text-white transition-all">12 Months</button>
                <button id="btn-30d" onclick="toggleRevenue('30d')" class="text-xs font-semibold px-3 py-1.5 rounded-md text-slate-500 hover:text-slate-700 transition-all">30 Days</button>
              </div>

              <!-- 12 Month Chart -->
              <div id="chart-12m" class="relative">
                <div class="flex items-end justify-between gap-1 h-40 relative">
                  <!-- Y-axis labels -->
                  <div class="absolute left-0 top-0 bottom-0 w-8 flex flex-col justify-between text-[9px] text-slate-400 font-medium pointer-events-none">
                    <span>$30K</span>
                    <span>$20K</span>
                    <span>$10K</span>
                    <span>$0</span>
                  </div>
                  <!-- Grid lines -->
                  <div class="absolute left-8 right-0 top-0 bottom-0 flex flex-col justify-between pointer-events-none">
                    <div class="border-b border-dashed border-slate-100"></div>
                    <div class="border-b border-dashed border-slate-100"></div>
                    <div class="border-b border-dashed border-slate-100"></div>
                    <div class="border-b border-dashed border-slate-100"></div>
                  </div>
                  <!-- Bars -->
                  <div class="flex-1 flex items-end justify-around gap-[3px] ml-9 relative z-10">
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 55%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Apr</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 65%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">May</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 48%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Jun</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 72%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Jul</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 80%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Aug</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 60%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Sep</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 53%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Oct</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 45%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Nov</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 70%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Dec</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 62%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Jan</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 75%"></div>
                      <span class="text-[8px] text-slate-400 mt-1">Feb</span>
                    </div>
                    <div class="flex flex-col items-center flex-1">
                      <div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-500 rounded-t-sm ring-2 ring-blue-300 ring-offset-1" style="height: 87%"></div>
                      <span class="text-[8px] text-blue-600 font-bold mt-1">Mar</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 30 Day Chart -->
              <div id="chart-30d" class="relative hidden">
                <div class="flex items-end justify-between gap-1 h-40 relative">
                  <!-- Y-axis labels -->
                  <div class="absolute left-0 top-0 bottom-0 w-8 flex flex-col justify-between text-[9px] text-slate-400 font-medium pointer-events-none">
                    <span>$4K</span>
                    <span>$3K</span>
                    <span>$2K</span>
                    <span>$0</span>
                  </div>
                  <div class="absolute left-8 right-0 top-0 bottom-0 flex flex-col justify-between pointer-events-none">
                    <div class="border-b border-dashed border-slate-100"></div>
                    <div class="border-b border-dashed border-slate-100"></div>
                    <div class="border-b border-dashed border-slate-100"></div>
                    <div class="border-b border-dashed border-slate-100"></div>
                  </div>
                  <div class="flex-1 flex items-end justify-around gap-[2px] ml-9 relative z-10">
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 25%"></div><span class="text-[7px] text-slate-400 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 40%"></div><span class="text-[7px] text-slate-400 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 15%"></div><span class="text-[7px] text-slate-400 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 55%"></div><span class="text-[7px] text-slate-400 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 35%"></div><span class="text-[7px] text-slate-400 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1 opacity-40"><div class="w-full bg-slate-200 rounded-t-sm" style="height: 2px"></div><span class="text-[7px] text-slate-300 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1 opacity-40"><div class="w-full bg-slate-200 rounded-t-sm" style="height: 2px"></div><span class="text-[7px] text-slate-300 mt-1">W1</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 60%"></div><span class="text-[7px] text-slate-400 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 45%"></div><span class="text-[7px] text-slate-400 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 70%"></div><span class="text-[7px] text-slate-400 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 30%"></div><span class="text-[7px] text-slate-400 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 50%"></div><span class="text-[7px] text-slate-400 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1 opacity-40"><div class="w-full bg-slate-200 rounded-t-sm" style="height: 2px"></div><span class="text-[7px] text-slate-300 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1 opacity-40"><div class="w-full bg-slate-200 rounded-t-sm" style="height: 2px"></div><span class="text-[7px] text-slate-300 mt-1">W2</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 80%"></div><span class="text-[7px] text-slate-400 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 65%"></div><span class="text-[7px] text-slate-400 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 50%"></div><span class="text-[7px] text-slate-400 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 90%"></div><span class="text-[7px] text-slate-400 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 42%"></div><span class="text-[7px] text-slate-400 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1 opacity-40"><div class="w-full bg-slate-200 rounded-t-sm" style="height: 2px"></div><span class="text-[7px] text-slate-300 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1 opacity-40"><div class="w-full bg-slate-200 rounded-t-sm" style="height: 2px"></div><span class="text-[7px] text-slate-300 mt-1">W3</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 55%"></div><span class="text-[7px] text-slate-400 mt-1">W4</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-400 rounded-t-sm" style="height: 75%"></div><span class="text-[7px] text-slate-400 mt-1">W4</span></div>
                    <div class="flex flex-col items-center flex-1"><div class="rev-bar w-full bg-gradient-to-t from-blue-600 to-blue-500 rounded-t-sm ring-2 ring-blue-300 ring-offset-1" style="height: 85%"></div><span class="text-[7px] text-blue-600 font-bold mt-1">W4</span></div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>

        <!-- -- QUICK STATS GRID -- -->
        <section class="mb-5">
          <button onclick="toggleSection('quick-stats')" class="w-full flex items-center justify-between mb-3 group">
            <h2 class="text-base font-bold text-slate-800">Quick Stats</h2>
            <svg id="quick-stats-chevron" class="w-5 h-5 text-slate-400 group-hover:text-slate-600 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="quick-stats" class="collapsible-content">
            <div class="grid grid-cols-2 gap-3">

              <!-- Conversion Rate -->
              <div class="quick-stat bg-white rounded-xl border border-slate-200 p-4 text-center">
                <div class="w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center mx-auto mb-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/></svg>
                </div>
                <div class="text-2xl font-extrabold text-slate-800">45%</div>
                <div class="text-xs text-slate-500 font-medium mt-0.5">Conversion Rate</div>
              </div>

              <!-- Avg Response Time -->
              <div class="quick-stat bg-white rounded-xl border border-slate-200 p-4 text-center">
                <div class="w-10 h-10 rounded-full bg-amber-50 text-amber-600 flex items-center justify-center mx-auto mb-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                </div>
                <div class="text-2xl font-extrabold text-slate-800">2.3 <span class="text-base font-bold text-slate-400">hrs</span></div>
                <div class="text-xs text-slate-500 font-medium mt-0.5">Avg Response Time</div>
              </div>

              <!-- Customer Satisfaction -->
              <div class="quick-stat bg-white rounded-xl border border-slate-200 p-4 text-center">
                <div class="w-10 h-10 rounded-full bg-green-50 text-green-600 flex items-center justify-center mx-auto mb-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg>
                </div>
                <div class="text-2xl font-extrabold text-slate-800">4.8<span class="text-base font-bold text-slate-400">/5</span></div>
                <div class="text-xs text-slate-500 font-medium mt-0.5">Customer Satisfaction</div>
              </div>

              <!-- Pending Follow-ups -->
              <div class="quick-stat bg-white rounded-xl border border-slate-200 p-4 text-center">
                <div class="w-10 h-10 rounded-full bg-purple-50 text-purple-600 flex items-center justify-center mx-auto mb-2">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>
                </div>
                <div class="text-2xl font-extrabold text-slate-800">7</div>
                <div class="text-xs text-slate-500 font-medium mt-0.5">Pending Follow-ups</div>
              </div>

            </div>
          </div>
        </section>

      </div>

    </div>
  </main>

  <!-- ========== DETAIL MODAL ========== -->
  <div id="detail-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true">
    <div class="modal-backdrop absolute inset-0" onclick="closeModal()"></div>
    <div class="absolute inset-y-0 right-0 w-full sm:w-[440px] bg-white shadow-2xl flex flex-col transform transition-transform duration-300 translate-x-full" id="modal-panel">

      <!-- Modal Header -->
      <div class="flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-slate-50">
        <div class="flex items-center gap-3">
          <div id="modal-avatar" class="w-10 h-10 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center text-sm font-bold">SM</div>
          <div>
            <h3 id="modal-name" class="text-base font-bold text-slate-800">Sarah Mitchell</h3>
            <p id="modal-subtitle" class="text-xs text-slate-500">Customer</p>
          </div>
        </div>
        <button onclick="closeModal()" class="w-8 h-8 rounded-lg hover:bg-slate-200 flex items-center justify-center transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>

      <!-- Modal Body -->
      <div class="flex-1 overflow-y-auto p-5 space-y-5">

        <!-- Contact Info -->
        <div>
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2">Contact Info</h4>
          <div class="space-y-2">
            <div class="flex items-center gap-2.5 text-sm">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
              <span id="modal-phone" class="text-slate-700">(555) 234-5678</span>
            </div>
            <div class="flex items-center gap-2.5 text-sm">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
              <span id="modal-email" class="text-blue-600">sarah.mitchell@email.com</span>
            </div>
            <div class="flex items-center gap-2.5 text-sm">
              <svg class="w-4 h-4 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
              <span id="modal-address" class="text-slate-700">742 Evergreen Terrace, Springfield</span>
            </div>
          </div>
        </div>

        <!-- Job / Lead Details -->
        <div>
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2">Job Details</h4>
          <div class="bg-slate-50 rounded-lg p-3.5 space-y-2">
            <div class="flex justify-between text-sm">
              <span class="text-slate-500">Service</span>
              <span id="modal-service" class="font-semibold text-slate-800">Deep Clean</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-slate-500">Date</span>
              <span id="modal-date" class="font-semibold text-slate-800">March 15, 2025</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-slate-500">Amount</span>
              <span id="modal-amount" class="font-bold text-green-600">$450</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-slate-500">Assigned To</span>
              <span id="modal-tech" class="font-semibold text-slate-800">Daniela</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-slate-500">Status</span>
              <span id="modal-status" class="inline-flex items-center gap-1 text-xs font-semibold bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full">Confirmed</span>
            </div>
          </div>
        </div>

        <!-- Status Timeline -->
        <div>
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2">Timeline</h4>
          <div class="space-y-0">
            <div class="flex gap-3">
              <div class="flex flex-col items-center">
                <div class="w-3 h-3 rounded-full bg-green-500 ring-2 ring-green-200 flex-shrink-0"></div>
                <div class="w-0.5 h-8 bg-slate-200"></div>
              </div>
              <div class="pb-4">
                <div class="text-xs font-semibold text-slate-800">Lead Created</div>
                <div class="text-[10px] text-slate-400">Mar 8, 2025 - 9:15 AM</div>
              </div>
            </div>
            <div class="flex gap-3">
              <div class="flex flex-col items-center">
                <div class="w-3 h-3 rounded-full bg-green-500 ring-2 ring-green-200 flex-shrink-0"></div>
                <div class="w-0.5 h-8 bg-slate-200"></div>
              </div>
              <div class="pb-4">
                <div class="text-xs font-semibold text-slate-800">Quote Sent</div>
                <div class="text-[10px] text-slate-400">Mar 9, 2025 - 11:30 AM</div>
              </div>
            </div>
            <div class="flex gap-3">
              <div class="flex flex-col items-center">
                <div class="w-3 h-3 rounded-full bg-green-500 ring-2 ring-green-200 flex-shrink-0"></div>
                <div class="w-0.5 h-8 bg-slate-200"></div>
              </div>
              <div class="pb-4">
                <div class="text-xs font-semibold text-slate-800">Quote Approved</div>
                <div class="text-[10px] text-slate-400">Mar 10, 2025 - 2:45 PM</div>
              </div>
            </div>
            <div class="flex gap-3">
              <div class="flex flex-col items-center">
                <div class="w-3 h-3 rounded-full bg-blue-500 ring-2 ring-blue-200 flex-shrink-0"></div>
              </div>
              <div>
                <div class="text-xs font-semibold text-blue-600">Job Booked</div>
                <div class="text-[10px] text-slate-400">Mar 11, 2025 - 10:00 AM</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Notes -->
        <div>
          <h4 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2">Notes</h4>
          <div class="bg-yellow-50 border border-yellow-100 rounded-lg p-3 text-xs text-slate-600">
            Customer prefers morning appointments. Has two dogs - please ring doorbell twice. Previous deep clean was 6 months ago.
          </div>
        </div>

      </div>

      <!-- Modal Actions -->
      <div class="border-t border-slate-200 px-5 py-3.5 bg-slate-50 flex gap-2">
        <button class="flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold py-2.5 rounded-lg transition-colors flex items-center justify-center gap-1.5">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
          Call
        </button>
        <button class="flex-1 bg-white hover:bg-slate-100 text-slate-700 text-sm font-semibold py-2.5 rounded-lg border border-slate-200 transition-colors flex items-center justify-center gap-1.5">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
          Email
        </button>
        <button class="flex-1 bg-white hover:bg-slate-100 text-slate-700 text-sm font-semibold py-2.5 rounded-lg border border-slate-200 transition-colors flex items-center justify-center gap-1.5">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
          Edit
        </button>
      </div>

    </div>
  </div>

  <!-- ========== JAVASCRIPT ========== -->
  <script>
    // ---- Section Toggle (Collapse/Expand) ----
    function toggleSection(id) {
      const content = document.getElementById(id);
      const chevron = document.getElementById(id + '-chevron');
      if (!content) return;
      content.classList.toggle('collapsed');
      if (chevron) {
        chevron.style.transform = content.classList.contains('collapsed') ? 'rotate(-90deg)' : 'rotate(0deg)';
      }
    }

    // ---- Mobile Stats Toggle ----
    function toggleMobileStats() {
      const stats = document.getElementById('mobile-stats');
      const chevron = document.getElementById('mobile-stats-chevron');
      stats.classList.toggle('collapsed');
      chevron.style.transform = stats.classList.contains('collapsed') ? 'rotate(0deg)' : 'rotate(180deg)';
    }

    // ---- Revenue Chart Toggle ----
    function toggleRevenue(view) {
      const chart12 = document.getElementById('chart-12m');
      const chart30 = document.getElementById('chart-30d');
      const btn12 = document.getElementById('btn-12m');
      const btn30 = document.getElementById('btn-30d');

      if (view === '12m') {
        chart12.classList.remove('hidden');
        chart30.classList.add('hidden');
        btn12.className = 'text-xs font-semibold px-3 py-1.5 rounded-md bg-blue-600 text-white transition-all';
        btn30.className = 'text-xs font-semibold px-3 py-1.5 rounded-md text-slate-500 hover:text-slate-700 transition-all';
      } else {
        chart12.classList.add('hidden');
        chart30.classList.remove('hidden');
        btn30.className = 'text-xs font-semibold px-3 py-1.5 rounded-md bg-blue-600 text-white transition-all';
        btn12.className = 'text-xs font-semibold px-3 py-1.5 rounded-md text-slate-500 hover:text-slate-700 transition-all';
      }
    }

    // ---- Modal Data ----
    const modalData = {
      'sarah-mitchell': {
        initials: 'SM', bgClass: 'bg-purple-100', textClass: 'text-purple-700',
        name: 'Sarah Mitchell', subtitle: 'Customer',
        phone: '(555) 234-5678', email: 'sarah.mitchell@email.com', address: '742 Evergreen Terrace, Springfield',
        service: 'Deep Clean', date: 'March 15, 2025', amount: '$450', tech: 'Daniela', status: 'Confirmed'
      },
      'david-kim': {
        initials: 'DK', bgClass: 'bg-blue-100', textClass: 'text-blue-700',
        name: 'David Kim', subtitle: 'Customer',
        phone: '(555) 345-6789', email: 'david.kim@email.com', address: '1234 Oak Ave, Portland',
        service: 'HVAC Maintenance', date: 'March 18, 2025', amount: '$650', tech: 'Raquel', status: 'Confirmed'
      },
      'jennifer-lee': {
        initials: 'JL', bgClass: 'bg-green-100', textClass: 'text-green-700',
        name: 'Jennifer Lee', subtitle: 'Customer',
        phone: '(555) 456-7890', email: 'jennifer.lee@email.com', address: '567 Pine St, Seattle',
        service: 'Home Cleaning', date: 'March 14, 2025', amount: '$340', tech: 'Monica', status: 'In Progress'
      },
      'robert-wilson': {
        initials: 'RW', bgClass: 'bg-amber-100', textClass: 'text-amber-700',
        name: 'Robert Wilson', subtitle: 'Customer',
        phone: '(555) 567-8901', email: 'robert.wilson@email.com', address: '890 Maple Dr, Denver',
        service: 'Pool Service', date: 'March 16, 2025', amount: '$285', tech: 'Daniela', status: 'Confirmed'
      },
      'amy-johnson': {
        initials: 'AJ', bgClass: 'bg-pink-100', textClass: 'text-pink-700',
        name: 'Amy Johnson', subtitle: 'Customer',
        phone: '(555) 678-9012', email: 'amy.johnson@email.com', address: '321 Birch Ln, Austin',
        service: 'Carpet Cleaning', date: 'March 17, 2025', amount: '$520', tech: 'Raquel', status: 'Confirmed'
      },
      'lisa-chen': {
        initials: 'LC', bgClass: 'bg-indigo-100', textClass: 'text-indigo-700',
        name: 'Lisa Chen', subtitle: 'Customer',
        phone: '(555) 789-0123', email: 'lisa.chen@email.com', address: '654 Cedar Blvd, San Jose',
        service: 'Office Move', date: 'March 20, 2025', amount: '$2,800', tech: 'Monica', status: 'Pending'
      },
      'james-r': {
        initials: 'JR', bgClass: 'bg-blue-100', textClass: 'text-blue-700',
        name: 'James Rodriguez', subtitle: 'Lead - New',
        phone: '(555) 111-2233', email: 'james.r@email.com', address: '88 Sunset Blvd, LA',
        service: 'Window Cleaning', date: 'TBD', amount: 'Est. $320', tech: 'Unassigned', status: 'New Lead'
      },
      'maria-g': {
        initials: 'MG', bgClass: 'bg-rose-100', textClass: 'text-rose-700',
        name: 'Maria Garcia', subtitle: 'Lead - New',
        phone: '(555) 222-3344', email: 'maria.g@email.com', address: '45 Main St, Miami',
        service: 'Lawn Service', date: 'TBD', amount: 'Est. $285', tech: 'Unassigned', status: 'New Lead'
      },
      'tom-b': {
        initials: 'TB', bgClass: 'bg-amber-100', textClass: 'text-amber-700',
        name: 'Tom Baker', subtitle: 'Lead - New',
        phone: '(555) 333-4455', email: 'tom.b@email.com', address: '12 River Rd, Chicago',
        service: 'Carpet Cleaning', date: 'TBD', amount: 'Est. $420', tech: 'Unassigned', status: 'New Lead'
      },
      'alex-p': {
        initials: 'AP', bgClass: 'bg-teal-100', textClass: 'text-teal-700',
        name: 'Alex Park', subtitle: 'Lead - New',
        phone: '(555) 444-5566', email: 'alex.p@email.com', address: '99 Hill Ave, Boston',
        service: 'Window Cleaning', date: 'TBD', amount: 'Est. $190', tech: 'Unassigned', status: 'New Lead'
      },
      'lisa-c': {
        initials: 'LC', bgClass: 'bg-indigo-100', textClass: 'text-indigo-700',
        name: 'Lisa Chen', subtitle: 'Lead - Contacted',
        phone: '(555) 789-0123', email: 'lisa.chen@email.com', address: '654 Cedar Blvd, San Jose',
        service: 'Office Move', date: 'TBD', amount: 'Est. $2,800', tech: 'Unassigned', status: 'Contacted'
      },
      'david-k': {
        initials: 'DK', bgClass: 'bg-blue-100', textClass: 'text-blue-700',
        name: 'David Kim', subtitle: 'Lead - Contacted',
        phone: '(555) 345-6789', email: 'david.kim@email.com', address: '1234 Oak Ave, Portland',
        service: 'HVAC Repair', date: 'TBD', amount: 'Est. $650', tech: 'Unassigned', status: 'Contacted'
      },
      'amy-j': {
        initials: 'AJ', bgClass: 'bg-pink-100', textClass: 'text-pink-700',
        name: 'Amy Johnson', subtitle: 'Lead - Contacted',
        phone: '(555) 678-9012', email: 'amy.johnson@email.com', address: '321 Birch Ln, Austin',
        service: 'Carpet Cleaning', date: 'TBD', amount: 'Est. $520', tech: 'Unassigned', status: 'Contacted'
      },
      'jennifer-l': {
        initials: 'JL', bgClass: 'bg-green-100', textClass: 'text-green-700',
        name: 'Jennifer Lee', subtitle: 'Lead - Qualified',
        phone: '(555) 456-7890', email: 'jennifer.lee@email.com', address: '567 Pine St, Seattle',
        service: 'Home Cleaning', date: 'TBD', amount: 'Est. $340', tech: 'Unassigned', status: 'Qualified'
      },
      'robert-w': {
        initials: 'RW', bgClass: 'bg-amber-100', textClass: 'text-amber-700',
        name: 'Robert Wilson', subtitle: 'Lead - Qualified',
        phone: '(555) 567-8901', email: 'robert.wilson@email.com', address: '890 Maple Dr, Denver',
        service: 'Pool Service', date: 'TBD', amount: 'Est. $285', tech: 'Unassigned', status: 'Qualified'
      },
      'sarah-m': {
        initials: 'SM', bgClass: 'bg-purple-100', textClass: 'text-purple-700',
        name: 'Sarah Mitchell', subtitle: 'Lead - Proposal',
        phone: '(555) 234-5678', email: 'sarah.mitchell@email.com', address: '742 Evergreen Terrace, Springfield',
        service: 'Deep Clean', date: 'TBD', amount: '$450', tech: 'Daniela', status: 'Proposal Sent'
      },
      'monica-lead': {
        initials: 'MC', bgClass: 'bg-teal-100', textClass: 'text-teal-700',
        name: "Monica's Lead", subtitle: 'Lead - Won',
        phone: '(555) 890-1234', email: 'contact@company.com', address: '200 Commerce Way, Dallas',
        service: 'Full Remodel', date: 'March 22, 2025', amount: '$12,500', tech: 'Monica', status: 'Won'
      },
      'quote-lisa': {
        initials: 'LC', bgClass: 'bg-indigo-100', textClass: 'text-indigo-700',
        name: 'Lisa Chen', subtitle: 'Quote',
        phone: '(555) 789-0123', email: 'lisa.chen@email.com', address: '654 Cedar Blvd, San Jose',
        service: 'Office Move', date: 'March 20, 2025', amount: '$2,800', tech: 'Monica', status: 'Sent'
      },
      'quote-david': {
        initials: 'DK', bgClass: 'bg-blue-100', textClass: 'text-blue-700',
        name: 'David Kim', subtitle: 'Quote',
        phone: '(555) 345-6789', email: 'david.kim@email.com', address: '1234 Oak Ave, Portland',
        service: 'HVAC Maintenance', date: 'March 18, 2025', amount: '$650', tech: 'Raquel', status: 'Approved'
      },
      'quote-tom': {
        initials: 'TB', bgClass: 'bg-amber-100', textClass: 'text-amber-700',
        name: 'Tom Baker', subtitle: 'Quote',
        phone: '(555) 333-4455', email: 'tom.b@email.com', address: '12 River Rd, Chicago',
        service: 'Carpet Cleaning', date: 'TBD', amount: '$420', tech: 'Unassigned', status: 'Draft'
      },
      'quote-maria': {
        initials: 'MG', bgClass: 'bg-rose-100', textClass: 'text-rose-700',
        name: 'Maria Garcia', subtitle: 'Quote',
        phone: '(555) 222-3344', email: 'maria.g@email.com', address: '45 Main St, Miami',
        service: 'Lawn Service', date: 'TBD', amount: '$285', tech: 'Unassigned', status: 'Sent'
      },
      'leader-monica': {
        initials: 'MC', bgClass: 'bg-teal-100', textClass: 'text-teal-700',
        name: 'Monica Copo', subtitle: 'Sales Leader #1',
        phone: '(555) 100-2000', email: 'monica@servicepro.com', address: 'ServicePro HQ',
        service: '7 jobs this month', date: 'March 2025', amount: '$8,096 total', tech: 'Self', status: '#1 This Month'
      },
      'leader-daniela': {
        initials: 'DA', bgClass: 'bg-purple-100', textClass: 'text-purple-700',
        name: 'Daniela', subtitle: 'Sales Leader #2',
        phone: '(555) 100-3000', email: 'daniela@servicepro.com', address: 'ServicePro HQ',
        service: '8 jobs this month', date: 'March 2025', amount: '$3,692 total', tech: 'Self', status: '#2 This Month'
      },
      'leader-raquel': {
        initials: 'RA', bgClass: 'bg-rose-100', textClass: 'text-rose-700',
        name: 'Raquel', subtitle: 'Sales Leader #3',
        phone: '(555) 100-4000', email: 'raquel@servicepro.com', address: 'ServicePro HQ',
        service: '3 jobs this month', date: 'March 2025', amount: '$3,164 total', tech: 'Self', status: '#3 This Month'
      }
    };

    // ---- Open Modal ----
    function openModal(key) {
      const data = modalData[key];
      if (!data) return;

      const modal = document.getElementById('detail-modal');
      const panel = document.getElementById('modal-panel');

      // Populate data
      const avatar = document.getElementById('modal-avatar');
      avatar.textContent = data.initials;
      avatar.className = `w-10 h-10 rounded-full ${data.bgClass} ${data.textClass} flex items-center justify-center text-sm font-bold`;

      document.getElementById('modal-name').textContent = data.name;
      document.getElementById('modal-subtitle').textContent = data.subtitle;
      document.getElementById('modal-phone').textContent = data.phone;
      document.getElementById('modal-email').textContent = data.email;
      document.getElementById('modal-address').textContent = data.address;
      document.getElementById('modal-service').textContent = data.service;
      document.getElementById('modal-date').textContent = data.date;
      document.getElementById('modal-amount').textContent = data.amount;
      document.getElementById('modal-tech').textContent = data.tech;
      document.getElementById('modal-status').textContent = data.status;

      // Show modal
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';

      // Animate panel in
      requestAnimationFrame(() => {
        panel.classList.remove('translate-x-full');
        panel.classList.add('translate-x-0');
      });
    }

    // ---- Close Modal ----
    function closeModal() {
      const modal = document.getElementById('detail-modal');
      const panel = document.getElementById('modal-panel');

      panel.classList.remove('translate-x-0');
      panel.classList.add('translate-x-full');

      setTimeout(() => {
        modal.classList.add('hidden');
        document.body.style.overflow = '';
      }, 300);
    }

    // ---- Close on Escape ----
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });
  </script>

</body>
</html>